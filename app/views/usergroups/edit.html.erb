<% @users_all = User.all %>
<% @usergroup = Usergroup.find_by({ "id" => params["id"] }) %>
<% @usergroupusers = Usergroupuser.where({ 
                "usergroup_id" => @usergroup["id"]
              })  %>

<p>Edit User Group <%= @usergroup["name"] %></p>

<table class="table">
    <tr>
        <th>User</th>
        <th>Action</th>
    </tr>
    <% for usergroupuser in @usergroupusers %>
    <tr>
        <% @user = User.find_by({ "id" => usergroupuser["user_id"] }) %>
        <td><%= @user["first_name"] %></td>
        <td><%= button_to "Delete", usergroupuser_path(usergroupuser), method: :delete, class: "btn btn-danger btn-sm" %></td>
    </tr> 
    <% end %>
</table>

<table class="table">
    <tr>
        <th>User</th>
        <th>Action</th>
    </tr>
    <% for user in @users_all %>
    <tr>
        <td><%= user["first_name"] %></td>
        <td><%= button_to "Add", new_usergroupuser_path(usergroupuser, :usergroup_id => @usergroup["id"], :user_id => user["id"]), method: :post, class: "btn btn-success btn-sm" %></td>
    </tr>
    <% end %> 
</table>



    
 